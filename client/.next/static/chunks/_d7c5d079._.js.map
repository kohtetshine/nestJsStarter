{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///app/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\n\nexport default function Home() {\n  const router = useRouter();\n  const [tab, setTab] = useState<'login' | 'signup'>('login');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [signedInEmail, setSignedInEmail] = useState<string | null>(null);\n\n  useEffect(() => {\n    // If already signed in, show a small message instead of forms\n    const jwt = typeof window !== 'undefined' ? localStorage.getItem('jwt') : null;\n    if (!jwt) return;\n    fetch('/api/auth/me', {\n      headers: { Authorization: `Bearer ${jwt}` },\n      cache: 'no-store',\n    })\n      .then(async (r) => {\n        if (!r.ok) return;\n        const d = await r.json();\n        setSignedInEmail(d?.user?.email ?? null);\n      })\n      .catch(() => null);\n  }, []);\n\n  const onLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    setLoading(true);\n    try {\n      const res = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, password }),\n      });\n      if (!res.ok) throw new Error(await res.text());\n      const data = await res.json();\n      if (data?.token) localStorage.setItem('jwt', data.token);\n      setSignedInEmail(data?.user?.email ?? email);\n      router.refresh();\n    } catch (err: any) {\n      setError(err.message || 'Login failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onSignup = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    if (password !== confirmPassword) {\n      setError('Passwords do not match');\n      return;\n    }\n    setLoading(true);\n    try {\n      const res = await fetch('/api/auth/register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, password, confirmPassword }),\n      });\n      if (!res.ok) throw new Error(await res.text());\n      // After successful signup, switch to login tab\n      setTab('login');\n    } catch (err: any) {\n      setError(err.message || 'Registration failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem('jwt');\n    setSignedInEmail(null);\n  };\n\n  return (\n    <main className=\"min-h-screen flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-sm space-y-6\">\n        <h1 className=\"text-2xl font-light text-center text-gray-700\">Welcome</h1>\n\n        {signedInEmail ? (\n          <div className=\"text-center space-y-4\">\n            <div className=\"p-4 rounded-lg bg-gray-50 text-gray-700\">\n              Welcome back, {signedInEmail}\n            </div>\n            <button\n              onClick={logout}\n              className=\"w-full py-2 px-4 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n              Sign Out\n            </button>\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            <div className=\"flex border-b border-gray-200\">\n              <button\n                className={`flex-1 py-3 text-sm font-medium transition-colors ${\n                  tab === 'login'\n                    ? 'border-b-2 border-gray-900 text-gray-900'\n                    : 'text-gray-500 hover:text-gray-700'\n                }`}\n                onClick={() => setTab('login')}\n              >\n                Sign In\n              </button>\n              <button\n                className={`flex-1 py-3 text-sm font-medium transition-colors ${\n                  tab === 'signup'\n                    ? 'border-b-2 border-gray-900 text-gray-900'\n                    : 'text-gray-500 hover:text-gray-700'\n                }`}\n                onClick={() => setTab('signup')}\n              >\n                Sign Up\n              </button>\n            </div>\n\n            {error && (\n              <div className=\"p-3 rounded-lg bg-red-50 text-red-700 text-sm\">{error}</div>\n            )}\n\n            {tab === 'login' ? (\n              <form onSubmit={onLogin} className=\"space-y-4\">\n                <div className=\"space-y-1\">\n                  <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                    Email\n                  </label>\n                  <input\n                    id=\"email\"\n                    type=\"email\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    required\n                  />\n                </div>\n                <div className=\"space-y-1\">\n                  <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                    Password\n                  </label>\n                  <input\n                    id=\"password\"\n                    type=\"password\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    required\n                  />\n                </div>\n                <button\n                  type=\"submit\"\n                  className=\"w-full py-2 px-4 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  disabled={loading}\n                >\n                  {loading ? 'Signing in...' : 'Sign In'}\n                </button>\n              </form>\n            ) : (\n              <form onSubmit={onSignup} className=\"space-y-4\">\n                <div className=\"space-y-1\">\n                  <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                    Email\n                  </label>\n                  <input\n                    id=\"email\"\n                    type=\"email\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    required\n                  />\n                </div>\n                <div className=\"space-y-1\">\n                  <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                    Password\n                  </label>\n                  <input\n                    id=\"password\"\n                    type=\"password\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    required\n                  />\n                </div>\n                <div className=\"space-y-1\">\n                  <label htmlFor=\"confirm\" className=\"block text-sm font-medium text-gray-700\">\n                    Confirm Password\n                  </label>\n                  <input\n                    id=\"confirm\"\n                    type=\"password\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent\"\n                    value={confirmPassword}\n                    onChange={(e) => setConfirmPassword(e.target.value)}\n                    required\n                  />\n                </div>\n                <button\n                  type=\"submit\"\n                  className=\"w-full py-2 px-4 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  disabled={loading}\n                >\n                  {loading ? 'Creating Account...' : 'Create Account'}\n                </button>\n              </form>\n            )}\n          </div>\n        )}\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 405, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///app/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 411, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}